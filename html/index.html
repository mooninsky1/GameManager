<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>运营管理工具</title>
    <form action= "test.html"method= "post">
    <table border= "0">
    <tr bgcolor= "#cccccc">
  </head>

  <body>
        <td>请输入要查找的用户名</td>
        <td align= "center"><input type= "text"name= "usrname"size= "30"maxlength= "30"/></td>
      </tr>
      <tr>
        <td colspan= "2"align= "center"><input type= "submit"value= "查看用户信息"/></td>
      </tr>
      
      </table>
      </form>
      <form action= "test.html"method= "get">
      <table border= "0">
      <tr bgcolor= "#cccccc">
      </tr>
      <tr>
        <td colspan= "2"align= "center"><input type= "submit"value= "测试"/></td>
      </tr>
      </table>
      </form>

         Your Message:
         <input type = "text" id = "input">
         <div id="messages">
           <p>This is <em>my</em> content.</p>
         </div>
         <tr>
          <td>
              <input id="login" type='button' value="join" />
          </td>
        </tr>
         <script src="http://localhost:8081/socket.io/socket.io.js"> </script>
         <script type="text/javascript">
            var  messagesElement = document.getElementById('messages');
            var lastmessageElement = null;
            function addMessage(message)
            {
              var newMessageElement = document.createElement('p');
              var testDiv = document.getElementById("messages");
              testDiv.appendChild(newMessageElement);
              var newMessageText = document.createTextNode(message);
              newMessageElement.appendChild(newMessageText);
            }
            var socket = io.connect('http://localhost:8081');
            var inputElement = document.getElementById('input');
            socket.on('servermsg',function(content)
            {
               addMessage(content);
            });
           
            inputElement.onkeydown = function(KeyboardEvent)
            {
                if(KeyboardEvent.keyCode === 13)
                {
                    socket.emit('clientmsg', inputElement.value);
                    inputElement.value = '';
                    return false;
                }
                else{
                    return true;
                }
            }
        </script>
     </body>
</html>
